<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Products ‚Äî Asobi Hobby Shop</title>
    <link rel="icon" type="image/png" href="assets/Icons & Logos/asobi-logo.png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800;900&family=Righteous&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <!-- ‚îÄ‚îÄ‚îÄ NAV ‚îÄ‚îÄ‚îÄ -->
    <nav>
        <div class="container">
            <a href="index.html" class="logo-container">
                <img src="assets/Icons & Logos/asobi-logo.png" alt="Asobi Hobby Shop" class="logo-image">
                <div class="logo-text">Asobi<span>Hobby Shop</span></div>
            </a>
            <ul>
                <li><a href="index.html">Home</a></li>
                <li><a href="products.html" class="active">Products</a></li>
                <li><a href="index.html#contact">Contact</a></li>
            </ul>
        </div>
    </nav>

    <!-- ‚îÄ‚îÄ‚îÄ PAGE HEADER ‚îÄ‚îÄ‚îÄ -->
    <div class="products-page">
        <div class="products-page-hero">
            <h1>Our Products</h1>
            <p>Pok√©mon ¬∑ One Piece ¬∑ Accessories</p>
        </div>

        <div class="products-page-content">

            <!-- Filter Tabs -->
            <div class="filter-tabs">
                <button class="filter-tab active" onclick="filterProducts('all', this)">All</button>
                <button class="filter-tab" onclick="filterProducts('pokemon', this)">Pok√©mon</button>
                <button class="filter-tab" onclick="filterProducts('onepiece', this)">One Piece</button>
                <button class="filter-tab" onclick="filterProducts('accessories', this)">Accessories</button>
            </div>

            <!-- ‚îÄ‚îÄ‚îÄ POK√âMON ‚îÄ‚îÄ‚îÄ -->
            <div class="tcg-section" id="section-pokemon">
                <div class="tcg-section-header">
                    <span class="tcg-icon"></span>
                    <h3>Pok√©mon TCG</h3>
                    <span class="tcg-label">In Stock</span>
                </div>
                <div class="products-full-grid">
                   
                </div>
            </div>

            <!-- ‚îÄ‚îÄ‚îÄ ONE PIECE ‚îÄ‚îÄ‚îÄ -->
            <div class="tcg-section" id="section-onepiece">
                <div class="tcg-section-header">
                    <span class="tcg-icon">üè¥‚Äç‚ò†Ô∏è</span>
                    <h3>One Piece TCG</h3>
                    <span class="tcg-label op-label">In Stock</span>
                </div>
                <div class="products-full-grid">
                    
                </div>
            </div>

            <!-- ‚îÄ‚îÄ‚îÄ ACCESSORIES ‚îÄ‚îÄ‚îÄ -->
            <div class="tcg-section" id="section-accessories">
                <div class="tcg-section-header">
                    <span class="tcg-icon">üõ°Ô∏è</span>
                    <h3>Accessories</h3>
                    <span class="tcg-label">All Games</span>
                </div>
                <div class="products-full-grid">
                    
                </div>
            </div>

            <!-- ‚îÄ‚îÄ‚îÄ SPECIAL ORDER CTA ‚îÄ‚îÄ‚îÄ -->
            <div class="special-order-cta">
                <h2>Looking for Something Specific?</h2>
                <p>We take special orders! Message us on Facebook or email us and we'll source it for you.</p>
                <div class="cta-buttons">
                    <a href="https://web.facebook.com/PoroHoloTCG" target="_blank" class="btn btn-secondary"><span>Message on Facebook</span></a>
                    <a href="mailto:zaarr06@gmail.com" class="btn btn-primary"><span>Send an Email</span></a>
                </div>
            </div>

        </div>
    </div>

    <!-- ‚îÄ‚îÄ‚îÄ FOOTER ‚îÄ‚îÄ‚îÄ -->
    <footer>
        <div class="footer-inner">
            <div class="footer-logo">Asobi Hobby Shop</div>
            <p class="footer-copy">&copy; 2026 Asobi Hobby Shop. All rights reserved.</p>
            <div class="footer-links">
                <a href="https://maps.app.goo.gl/LVs7NpkaBF5j3Svn8" target="_blank" rel="noopener">
                    <p>Ground Floor, AR Building, Brgy. Upper Calarian </p>
                    <p>(Fronting Yakan Village), Zamboanga City, Philippines</p>
                </a>
            </div>
        </div>
    </footer>

            <script>


            function showSpinner(sectionId) {
                var section = document.getElementById(sectionId);
                if (!section) return;
                var grid = section.querySelector('.products-full-grid');
                grid.innerHTML = `
                    <div class="pokeball-spinner" style="grid-column: 1 / -1;">
                        <div class="pokeball">
                            <div class="pokeball-line"></div>
                            <div class="pokeball-center"></div>
                        </div>
                        <p>Loading...</p>
                    </div>
                `;
            }
            async function loadProducts() {
                try {
                    // Show spinners while loading
                    showSpinner('section-pokemon');
                    showSpinner('section-onepiece');
                    showSpinner('section-accessories');

                    const res      = await fetch('/api/products');
                    const products = await res.json();

                    var groups = { pokemon: [], onepiece: [], accessories: [] };
                    products.forEach(function (p) {
                        if (groups[p.category]) groups[p.category].push(p);
                    });

                    renderSection('section-pokemon',     groups.pokemon);
                    renderSection('section-onepiece',    groups.onepiece);
                    renderSection('section-accessories', groups.accessories);

                    document.querySelectorAll('.product-card').forEach(function (card) {
                        card.style.opacity = '1';
                        card.style.transform = 'none';
                    });

                } catch (err) {
                    console.error('Failed to load products:', err);
                }
            }

            function renderSection(sectionId, products) {
                var section = document.getElementById(sectionId);
                if (!section) return;

                var grid = section.querySelector('.products-full-grid');

                if (products.length === 0) {
                    grid.innerHTML = `
                        <div class="out-of-stock-card">
                            <div class="out-of-stock-icon">üì¶</div>
                            <h3>Coming Soon</h3>
                            <p>No products available right now. Check back soon!</p>
                        </div>
                    `;
                    return;
                }

                grid.innerHTML = products.map(function (p) {
                    return `
                        <div class="product-card" data-category="${p.category}">
                            <div class="product-image">
                                ${p.image_url
                                    ? `<img src="${p.image_url}" alt="${p.name}" class="product-img">`
                                    : `<div class="no-image">üì¶<span>No Image</span></div>`
                                }
                            </div>
                            <div class="product-content">
                                <div class="product-badge ${p.category === 'onepiece' ? 'badge-op' : p.category === 'accessories' ? 'badge-vg' : ''}">
                                    ${p.category === 'pokemon' ? 'Pok√©mon' : p.category === 'onepiece' ? 'One Piece' : 'Accessories'}
                                </div>
                                ${p.stock > 0
                                    ? `<span class="stock-badge in-stock">In Stock: ${p.stock}</span>`
                                    : `<span class="stock-badge out-of-stock-badge">Out of Stock</span>`
                                }
                                <h3>${p.name}</h3>
                                <p>${p.description}</p>
                                <a href="index.html#contact" class="product-link">Inquire</a>
                            </div>
                        </div>
                    `;
                }).join('');
            }

            // ‚îÄ‚îÄ‚îÄ Filter tabs ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
            function filterProducts(category, btn) {
                document.querySelectorAll('.filter-tab').forEach(function (t) { t.classList.remove('active'); });
                btn.classList.add('active');

                var sections = {
                    pokemon:     'section-pokemon',
                    onepiece:    'section-onepiece',
                    accessories: 'section-accessories'
                };

                if (category === 'all') {
                    Object.values(sections).forEach(function (id) {
                        document.getElementById(id).style.display = 'block';
                    });
                } else {
                    Object.entries(sections).forEach(function (entry) {
                        document.getElementById(entry[1]).style.display = (entry[0] === category) ? 'block' : 'none';
                    });
                }
            }

            // ‚îÄ‚îÄ‚îÄ Init ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
            loadProducts();
        </script>
    <script src="script.js"></script>
</body>
</html>
